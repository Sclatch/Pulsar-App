(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"1dJL":function(e,n,r){"use strict";var t=this&&this.__awaiter||function(e,n,r,t){return new(r||(r=Promise))((function(o,a){function i(e){try{s(t.next(e))}catch(n){a(n)}}function c(e){try{s(t.throw(e))}catch(n){a(n)}}function s(e){var n;e.done?o(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(i,c)}s((t=t.apply(e,n||[])).next())}))},o=this&&this.__generator||function(e,n){var r,t,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,t&&(o=2&a[0]?t.return:a[0]?t.throw||((o=t.return)&&o.call(t),0):t.next)&&!(o=o.call(t,a[1])).done)return o;switch(t=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,t=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(e,i)}catch(c){a=[6,c],t=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};Object.defineProperty(n,"__esModule",{value:!0}),n.Channel=void 0;var a=r("5/z4"),i=function(e){var n=this,r=e.id,i=e.send,c=e.onUnrecoverableError;this.onCommand=function(e){if("closed"===n.status){var r=new Error("Trying to listen to commands on a closed channel");throw n.onUnrecoverableError(r),r}return n.onCommandListeners.push(e),function(){n.onCommandListeners=n.onCommandListeners.filter((function(n){return n!==e}))}},this.send=function(e){if("closed"===n.status){var r=new Error("Calling send on closed channel");throw n.onUnrecoverableError(r),r}if("closing"===n.status)throw r=new Error("Cannot send any more commands after a close request"),n.onUnrecoverableError(r),r;e.channel=n.id,n.sendToContainer(a.api.Command.create(e))},this.request=function(e){return t(n,void 0,void 0,(function(){var n,r=this;return o(this,(function(t){return n=Number(Math.random().toString().split(".")[1]).toString(36),e.ref=n,[2,new Promise((function(t,o){r.requestMap[n]=t;try{r.send(e)}catch(a){delete r.requestMap[n],o(a)}}))]}))}))},this.handleCommand=function(e){n.onCommandListeners.forEach((function(n){return n(e)})),e.ref&&n.requestMap[e.ref]&&(n.requestMap[e.ref](e),delete n.requestMap[e.ref])},this.handleClose=function(e){Object.keys(n.requestMap).forEach((function(r){var t=a.api.Command.fromObject({});t.channelClosed=e,n.requestMap[r](t),delete n.requestMap[r]})),n.status="closed",n.onCommandListeners=[]},this.id=r,this.sendToContainer=i,this.onUnrecoverableError=c,this.status="open",this.requestMap={},this.onCommandListeners=[]};n.Channel=i},"6bXu":function(e,n,r){"use strict";r.d(n,"a",(function(){return a})),r.d(n,"b",(function(){return i}));var t="production",o="__ENABLE_ALL_SERVICES";function a(){return"test"===t||window[o]}function i(){window[o]=!0}},"8/ze":function(e,n,r){"use strict";r.d(n,"a",(function(){return t}));var t="."},"8v8i":function(e,n,r){"use strict";var t,o,a,i,c;r.d(n,"a",(function(){return t})),r.d(n,"b",(function(){return a})),r.d(n,"c",(function(){return i})),function(e){e.Create="CREATE",e.Move="MOVE",e.Delete="DELETE",e.Modify="MODIFY"}(t||(t={})),function(e){e.Local="LOCAL",e.Container="CONTAINER"}(o||(o={})),function(e){e.File="FILE",e.Directory="DIRECTORY"}(a||(a={})),function(e){e.NotFound="NOT_FOUND",e.AlreadyExists="ALREADY_EXIST",e.NotDirectory="NOT_DIRECTORY",e.IsDirectory="IS_DIRECTORY"}(i||(i={})),function(e){e.Offline="OFFLINE",e.Loading="LOADING",e.Syncing="SYNCING",e.Clean="CLEAN",e.Error="ERROR"}(c||(c={}))},AJXi:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getConnectionStr=n.getWebSocketClass=n.getNextRetryDelay=void 0;var t=1.7,o=15e3;function a(e){return("object"===typeof e||"function"===typeof e)&&(!!e&&("OPEN"in e&&1===e.OPEN))}n.getNextRetryDelay=function(e){var n=Math.floor(500*Math.random()),r=1e3*Math.pow(t,e);return Math.min(r,o)+n},n.getWebSocketClass=function(e){if(e.WebSocketClass){if(!a(e.WebSocketClass))throw new Error("Passed in WebSocket does not look like a standard WebSocket");return e.WebSocketClass}if("undefined"!==typeof WebSocket){if(!a(WebSocket))throw new Error("Global WebSocket does not look like a standard WebSocket");return WebSocket}throw new Error("Please pass in a WebSocket class or add it to global")},n.getConnectionStr=function(e){return new URL("/wsv2/"+e.token,e.gurl).toString()}},BQO9:function(e,n){e.exports="data:application/font-woff;base64,d09GRgABAAAAAAPUAA4AAAAABaQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAADuAAAABwAAAAchB3b2kdERUYAAAOUAAAAJAAAACYAKQAqT1MvMgAAAawAAAA5AAAAYENBXFNjbWFwAAAB+AAAAD4AAAFCAA/yUmN2dCAAAAI4AAAABAAAAAQAIgKIZ2FzcAAAA4wAAAAIAAAACAAAAAFnbHlmAAACSAAAAHwAAACIpDV7CWhlYWQAAAFEAAAAMQAAADYPsR5/aGhlYQAAAXgAAAAYAAAAJAYBBAVobXR4AAAB6AAAABAAAAAQDAAAomxvY2EAAAI8AAAACgAAAAoAbgBUbWF4cAAAAZAAAAAaAAAAIAAIADxuYW1lAAACxAAAAKgAAAFuIGxtGnBvc3QAAANsAAAAHgAAADKwqUy9eJxjYGQAg75rH9bE89t8ZeBmAfOvm9l/AdPWs54wKDEwMDEwrQJyOYAMIAAARtIKWgAAAHicY2BkYGBhAAEIycTAwMiAClgAAWwAEXicY2BkYGBgYeBhYGYAASYGBNADEQADJABFAAB4nGNgZmFgnMDAysDA1MDMAAQNEJoJiBkZ0ACjABInIM01hcHh3fJ3y1nAfBaoGiQlCgyMAFRaBy8AAAAEAAAiAAAAAAQAAAAEAACAeJxjYGBgZoBgGQZGBhCwAfIYwXwWBgUgzQKEQP675f//Q0jBGKhKBkY2BhiTgZEJSDAxoAJGhmEPAP2eCE8AAAAiAogAAAAqACoAKgBEAAB4nGNgYlBiYGA0YlrFwMzAzqC3kZFB32YTOwvDW6ONbKx3bDYxMwGZDBuZQcKsIOFN7GyMf2w2MYLEjQUVBdWNBZWVGAXenTnDtOpvmBJTGgPQpAYGBiYGJgewmdxA80WNTVmBmBmIGR0O/Gs4cOAAI4iAUAwMDAARHSJHeJyNzU0KgzAUBOCJRqE/dFkK3WTnolT0FL1A6QUki4AkEl30GD1Az9BVD9hRX6HQjcbAl5dhAmCHFxS+XyJW2OAoHmcncYotLmLNTCvO6Ic4p99MKr2S1tkKe2p2wlWIUxxwFmtmruKMvotz+jlWRVh0fNZh4G4Q4NFzbLvWDa4Jnof19P8mzX/WSHhJ4Y2ZyKmbbg1qlKg4trF3wZu6rBb1fACKDTLseJxjYGJABowM6IAFLMrEyMRempfp6upoDgAL4gJjAAAAAQAB//8AAHicY2BkYGDgAWIxBjkGJgZGBmYgZGRgAYowATEjBAMACK0AVAAAAAEAAAAA1awBAQAAAADXNj/0AAAAANc7muQ="},"Fz/E":function(e,n,r){"use strict";r.d(n,"a",(function(){return o}));var t=r("+qE3");function o(){return new t.EventEmitter}},HADy:function(e,n,r){"use strict";var t,o;r.d(n,"a",(function(){return t})),r.d(n,"b",(function(){return o})),function(e){e.STATE_CHANGE="STATE_CHANGE",e.OUTPUT="OUTPUT"}(t||(t={})),function(e){e.OFFLINE="OFFLINE",e.IDLE="IDLE",e.RUNNING="RUNNING",e.STOPPING="STOPPING"}(o||(o={}))},I3P5:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),r("yNTq").read=function(e,n,r){if(r-n<1)return"";for(var t="",o=n;o<r;){var a=e[o++];if(a<=127)t+=String.fromCharCode(a);else if(a>=192&&a<224)t+=String.fromCharCode((31&a)<<6|63&e[o++]);else if(a>=224&&a<240)t+=String.fromCharCode((15&a)<<12|(63&e[o++])<<6|63&e[o++]);else if(a>=240){var i=((7&a)<<18|(63&e[o++])<<12|(63&e[o++])<<6|63&e[o++])-65536;t+=String.fromCharCode(55296+(i>>10)),t+=String.fromCharCode(56320+(1023&i))}}return t}},IUvJ:function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var t=r("ln6h"),o=r.n(t),a=r("eVuF"),i=r.n(a),c=r("doui"),s=r("u9np"),u={cursorBlink:!1,scrollback:1e3,tabStopWidth:4,fontFamily:'Monaco, "Ubuntu Mono", "Courier New", Courier, replit-icons, monospace',fontSize:14,lineHeight:1,bellStyle:"sound",drawBoldTextInBrightColors:!1,theme:{background:r.n(s).a.color.brand.darkBlue,red:"#FF0066",green:"#66FF00",yellow:"#FF6600",brightYellow:"#FFCC00"}};function l(){var e,n,t,a,s,l,A,f,d,p;return o.a.async((function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,o.a.awrap(i.a.all([r.e(208).then(r.t.bind(null,"/POA",7)).then((function(e){return e})),r.e(205).then(r.t.bind(null,"R9As",7)).then((function(e){return e})),r.e(206).then(r.t.bind(null,"0fl0",7)).then((function(e){return e})),r.e(207).then(r.t.bind(null,"QIth",7)).then((function(e){return e}))]));case 2:return e=h.sent,n=Object(c.a)(e,4),t=n[0].Terminal,a=n[1].FitAddon,s=n[2].SearchAddon,l=n[3].WebLinksAddon,A=new t(u),f=new a,A.loadAddon(f),d=new l,A.loadAddon(d),p=new s,A.loadAddon(p),h.abrupt("return",{xterm:A,fitAddon:f,searchAddon:p});case 16:case"end":return h.stop()}}))}},"LI1+":function(e,n,r){"use strict";var t=r("doui"),o=r("MX0m"),a=r.n(o),i=r("q1tI"),c=r("HADy"),s=r("eVuF"),u=r.n(s),l=r("hKI/"),A=r.n(l),f=r("qzUi"),d=r("IUvJ");function p(e){var n=e.runner,r=e.languageHeader,o=function(){var e=i.useState(null),n=Object(t.a)(e,2),r=n[0],o=n[1];i.useEffect((function(){var e=!1;return u.a.all([Object(d.a)(),Object(f.a)()]).then((function(n){var r=Object(t.a)(n,1)[0];e||o(r)})),function(){e=!0}}),[o]);var a=i.useState(null),c=Object(t.a)(a,2),s=c[0],l=c[1],p=i.useState(null),h=Object(t.a)(p,2),b=h[0],v=h[1];return i.useLayoutEffect((function(){if(s&&r){var e=!0,n=r.xterm,t=r.fitAddon,o=r.searchAddon,a=[];n.open(s),a.push((function(){return n.dispose()}));var i=A()((function(){e&&t.fit()}),50);return t.fit(),window.addEventListener("resize",i),a.push((function(){return window.removeEventListener("resize",i)})),v({onData:n.onData.bind(n),onResize:n.onResize.bind(n),write:n.write.bind(n),fit:function(){return t.fit()},focus:function(){return n.focus()},clear:function(){return n.clear()},findPrevious:function(e){return o.findPrevious(e)},findNext:function(e){return o.findNext(e)},getSize:function(){return{cols:n.cols,rows:n.rows}}}),function(){e=!1,a.forEach((function(e){return e()}))}}}),[s,r]),[b,l]}(),a=Object(t.a)(o,2),s=a[0],l=a[1],p=i.useState(""),h=Object(t.a)(p,2),b=h[0],v=h[1];return i.useEffect((function(){if(!s)return n.onOutput((function(e){return v((function(n){return n+e}))}))}),[s,n,v]),i.useEffect((function(){b&&s&&(s.write(b),v(""))}),[s,b]),i.useEffect((function(){r&&v((function(e){return e+"".concat(r.replace(/\n/g,"\n\r"),"\n\r")}))}),[r,v]),i.useEffect((function(){if(s){var e=function(){n.getRunState()!==c.b.OFFLINE&&n.resizeTerminal(s.getSize())},r=[];r.push(s.onResize(e).dispose),r.push(s.onData((function(e){return n.sendInput(e)})).dispose),r.push(n.onOutput((function(e){s.write(e)})));var t=!1;return r.push(n.onStateChanged((function(n){n!==c.b.OFFLINE?t||(e(),t=!0):t=!1}))),n.getRunState()!==c.b.OFFLINE&&(e(),t=!0),function(){r.forEach((function(e){return e()}))}}}),[s,n]),[s,l]}var h=r("YuJD"),b=r("7FmB"),v=r.n(b),w=r("gF3W");r.d(n,"d",(function(){return C})),r.d(n,"c",(function(){return m})),r.d(n,"a",(function(){return g})),r.d(n,"b",(function(){return y}));var E=i.createElement;function C(e){var n=e.runner,r=e.languageHeader,o=p({runner:n,languageHeader:r}),c=Object(t.a)(o,2),s=c[0],u=c[1],l=i.useState(!1),A=Object(t.a)(l,2),f=A[0],d=A[1];return E("div",{onKeyDown:function(e){"f"===e.key&&Object(h.b)(e)&&!e.shiftKey&&(d(!0),e.preventDefault())},className:"jsx-750676796 terminal"},E("div",{className:"jsx-750676796 controls"},E(w.HStack,{align:"center",wrap:"nowrap"},f&&s?E(m,{findPrevious:s.findPrevious,findNext:s.findNext,exit:function(){return d(!1)}}):E(y,{onClick:function(){return d(!0)}}),E(g,{onClick:function(){s&&(s.clear(),r&&s.write("".concat(r.replace(/\n/g,"\n\r"),"\n\r")),s.focus())}}))),E("div",{ref:u,className:"jsx-750676796 xterm-container"}),E(a.a,{id:"750676796"},[".terminal.jsx-750676796{height:100%;position:relative;background-color:var(--color-brand-dark-blue);border-radius:var(--border-radius-1);}",".controls.jsx-750676796{position:absolute;top:var(--spacing-1);right:var(--spacing-3);z-index:100;}",".xterm-container.jsx-750676796{height:100%;overflow:auto;}",".xterm-container.jsx-750676796 .xterm{height:100%;padding:var(--spacing-2) var(--spacing-2) var(--spacing-half);}",".xterm-container.jsx-750676796 .xterm-viewport{overflow-y:auto !important;border-radius:var(--border-radius-1);}"]))}function m(e){var n=e.findNext,r=e.findPrevious,o=e.exit,c=i.useRef(null),s=i.useState(""),u=Object(t.a)(s,2),l=u[0],A=u[1];i.useEffect((function(){c.current&&c.current.focus()}),[]);return E("div",{className:"jsx-1360537644 search"},E("input",{ref:c,placeholder:"Find",value:l,onChange:function(e){return A(e.target.value)},onKeyDown:function(e){return function(e){"Escape"!==e.key?"Enter"===e.key&&(e.shiftKey?r(l):n(l)):o()}(e)},className:"jsx-1360537644"}),E(v.a,{size:"small",onClick:function(){return n(l)}},"next"),E(v.a,{size:"small",onClick:function(){return r(l)}},"before"),E(v.a,{size:"small",onClick:o},"exit"),E(a.a,{id:"1360537644"},[".search.jsx-1360537644{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:rgb(14,22,40);height:30px;}","input.jsx-1360537644{padding:4px var(--padding-size-medium) var(--padding-size-small);background-color:var(--color-white-32);color:var(--color-white);height:24px;width:85px;border:none;border-radius:2.5px;box-shadow:none;}","input.jsx-1360537644::-webkit-input-placeholder{color:var(--color-white);}","input.jsx-1360537644::-moz-placeholder{color:var(--color-white);}","input.jsx-1360537644:-ms-input-placeholder{color:var(--color-white);}","input.jsx-1360537644::placeholder{color:var(--color-white);}","input.jsx-1360537644,.search button{margin:0 var(--padding-size-small);}"]))}var g=function(e){var n=e.onClick;return E("button",{"aria-label":"Clear","data-microtip-position":"bottom",role:"tooltip",onClick:n,className:"jsx-2395666411"},E(a.a,{id:"2395666411"},["button.jsx-2395666411{background:transparent;border:0;box-shadow;outline:none;height:18px;width:18px;padding:0;margin:0 12px;cursor:pointer;background-image:url(/public/images/clear.png);background-size:contain;background-repeat:no-repeat;}"]))},y=function(e){var n=e.onClick;return E("div",{"aria-label":"Find","data-microtip-position":"bottom",role:"tooltip",onClick:n,className:"jsx-2924698917"},E("svg",{width:"29px",height:"30px",viewBox:"0 0 29 30",version:"1.1",className:"jsx-2924698917"},E("g",{transform:"translate(2, 2)",className:"jsx-2924698917"},E("rect",{fill:"var(--color-white-32)",transform:"translate(21, 21) rotate(-45) translate(-21, -21) ",x:"19",y:"15",width:"4",height:"13",className:"jsx-2924698917"}),E("circle",{fill:"none",stroke:"var(--color-white-32)",strokeWidth:"4",cx:"10",cy:"10",r:"10",className:"jsx-2924698917"}))),E(a.a,{id:"2924698917"},["div.jsx-2924698917{width:16px;cursor:pointer;}","div.jsx-2924698917 svg.jsx-2924698917{width:100%;display:block;}"]))}},VOEV:function(e,n,r){"use strict";var t=r("hfKm"),o=r.n(t),a=r("2Eek"),i=r.n(a),c=r("XoMD"),s=r.n(c),u=r("Jo+v"),l=r.n(u),A=r("4mXO"),f=r.n(A),d=r("eVuF"),p=r.n(d),h=r("dfwq"),b=r("XXOK"),v=r.n(b),w=r("pLtp"),E=r.n(w),C=r("ln6h"),m=r.n(C),g=r("vYYK"),y=r("8v8i"),x=r("dI/k"),O=r("gfZM"),k=r("5/z4");function N(e){var n,r,t,o,a,i,c;return m.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return n=e.filesChannel,r=e.path,t=e.content,o=e.resolve,a=e.reject,s.next=3,m.a.awrap(n.request({write:{path:r,content:t.toBuffer()}}));case 3:if(!(i=s.sent).channelClosed){s.next=6;break}return s.abrupt("return");case 6:if(!i.error){s.next=14;break}if(c=null,i.error.includes("not a directory")?c=y.c.NotDirectory:i.error.includes("file exists")&&(c=y.c.IsDirectory),c){s.next=12;break}return a(new Error(i.error)),s.abrupt("return");case 12:return o({error:c}),s.abrupt("return");case 14:o({error:null});case 15:case"end":return s.stop()}}))}function T(e){var n,r,t,o,a,i;return m.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return n=e.filesChannel,r=e.path,t=e.resolve,o=e.reject,c.next=3,m.a.awrap(n.request({read:{path:r}}));case 3:if(!(a=c.sent).channelClosed){c.next=6;break}return c.abrupt("return");case 6:if(!a.error){c.next=14;break}if(i=null,a.error.includes("no such file")?i=y.c.NotFound:a.error.includes("is a directory")&&(i=y.c.IsDirectory),i){c.next=12;break}return o(new Error(a.error)),c.abrupt("return");case 12:return t({error:i}),c.abrupt("return");case 14:if(a.file&&a.file.path&&a.file.content){c.next=16;break}throw new Error("Expected file");case 16:t({content:O.a.from(a.file.content),error:null});case 17:case"end":return c.stop()}}))}function I(e){var n,r,t,o,a,i;return m.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return n=e.filesChannel,r=e.path,t=e.resolve,o=e.reject,c.next=3,m.a.awrap(n.request({mkdir:{path:r}}));case 3:if(!(a=c.sent).channelClosed){c.next=6;break}return c.abrupt("return");case 6:if(!a.error){c.next=14;break}if(i=null,a.error.includes("not a directory")&&(i=y.c.NotDirectory),i){c.next=12;break}return o(new Error(a.error)),c.abrupt("return");case 12:return t({error:i}),c.abrupt("return");case 14:t({error:null});case 15:case"end":return c.stop()}}))}function S(e){return e.includes("no such file or directory")?y.c.NotFound:e.includes("file exist")?y.c.AlreadyExists:e.includes("not a directory")?y.c.NotDirectory:void 0}function j(e){var n,r,t,o,a,i,c;return m.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return n=e.filesChannel,r=e.path,t=e.to,o=e.resolve,a=e.reject,s.next=3,m.a.awrap(n.request({move:{oldPath:r,newPath:t}}));case 3:if(!(i=s.sent).channelClosed){s.next=6;break}return s.abrupt("return");case 6:if(!i.error){s.next=13;break}if(c=S(i.error)){s.next=11;break}return a(new Error(i.error)),s.abrupt("return");case 11:return o({error:c}),s.abrupt("return");case 13:o({error:null});case 14:case"end":return s.stop()}}))}function D(e){var n,r,t,o,a,i,c;return m.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return n=e.filesChannel,r=e.path,t=e.to,o=e.resolve,a=e.reject,s.next=3,m.a.awrap(n.request({move:{oldPath:r,newPath:t}}));case 3:if(!(i=s.sent).channelClosed){s.next=6;break}return s.abrupt("return");case 6:if(!i.error){s.next=13;break}if(c=S(i.error)){s.next=11;break}return a(new Error(i.error)),s.abrupt("return");case 11:return o({error:c}),s.abrupt("return");case 13:o({error:null});case 14:case"end":return s.stop()}}))}function R(e){var n,r,t,o,a,i,c,s;return m.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return r=e.filesChannel,t=e.path,o=e.resolve,a=e.reject,u.next=3,m.a.awrap(r.request({readdir:{path:t}}));case 3:if(!(i=u.sent).channelClosed){u.next=6;break}return u.abrupt("return");case 6:if(!i.error){u.next=14;break}if(c=null,i.error.includes("no such file or directory")?c=y.c.NotFound:i.error.includes("not a directory")&&(c=y.c.NotDirectory),c){u.next=12;break}return a(new Error(i.error)),u.abrupt("return");case 12:return o({error:c}),u.abrupt("return");case 14:if(null===(n=i.files)||void 0===n?void 0:n.files){u.next=16;break}throw new Error("Expected filesChannel");case 16:s=i.files.files.map((function(e){if(!e.path)throw new Error("Expected path");return{filename:e.path,type:e.type===k.api.File.Type.DIRECTORY?y.b.Directory:y.b.File}})),o({children:s,error:null});case 18:case"end":return u.stop()}}))}function B(e){var n,r,t,o,a,i;return m.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return n=e.filesChannel,r=e.path,t=e.resolve,o=e.reject,c.next=3,m.a.awrap(n.request({remove:{path:r}}));case 3:if(!(a=c.sent).channelClosed){c.next=6;break}return c.abrupt("return");case 6:if(!a.error){c.next=14;break}if(i=null,a.error.includes("no such file or director")&&(i=y.c.NotFound),i){c.next=12;break}return o(new Error(a.error)),c.abrupt("return");case 12:return t({error:i}),c.abrupt("return");case 14:t({error:null});case 15:case"end":return c.stop()}}))}function U(e){var n,r,t,o,a,i;return m.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return n=e.filesChannel,r=e.path,t=e.resolve,o=e.reject,c.next=3,m.a.awrap(n.request({remove:{path:r}}));case 3:if(!(a=c.sent).channelClosed){c.next=6;break}return c.abrupt("return");case 6:if(!a.error){c.next=14;break}if(i=null,a.error.includes("no such file or director")&&(i=y.c.NotFound),i){c.next=12;break}return o(new Error(a.error)),c.abrupt("return");case 12:return t({error:i}),c.abrupt("return");case 14:t({error:null});case 15:case"end":return c.stop()}}))}var F=r("8/ze"),L=r("6bXu");function M(e,n){var r=E()(e);if(f.a){var t=f()(e);n&&(t=t.filter((function(n){return l()(e,n).enumerable}))),r.push.apply(r,t)}return r}function G(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?M(Object(r),!0).forEach((function(n){Object(g.a)(e,n,r[n])})):s.a?i()(e,s()(r)):M(Object(r)).forEach((function(n){o()(e,n,l()(r,n))}))}return e}function _(e){var n=e.container,r=null,t=null,o={},a=[],i=null;function c(){var e;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!i){n.next=2;break}return n.abrupt("return");case 2:if(r){n.next=4;break}return n.abrupt("return");case 4:if(e=a.shift()){n.next=7;break}return n.abrupt("return");case 7:i=e,n.t0=e.op,n.next="writeFile"===n.t0?11:"readFile"===n.t0?13:"createDir"===n.t0?15:"moveDir"===n.t0?17:"moveFile"===n.t0?19:"deleteDir"===n.t0?21:"deleteFile"===n.t0?23:"readDir"===n.t0?25:27;break;case 11:return N(G({filesChannel:r},e)),n.abrupt("break",28);case 13:return T(G({filesChannel:r},e)),n.abrupt("break",28);case 15:return I(G({filesChannel:r},e)),n.abrupt("break",28);case 17:return j(G({filesChannel:r},e)),n.abrupt("break",28);case 19:return D(G({filesChannel:r},e)),n.abrupt("break",28);case 21:return B(G({filesChannel:r},e)),n.abrupt("break",28);case 23:return U(G({filesChannel:r},e)),n.abrupt("break",28);case 25:return R(G({filesChannel:r},e)),n.abrupt("break",28);case 27:return n.abrupt("break",28);case 28:i=null,c();case 30:case"end":return n.stop()}}))}function s(e){if(o[e.node.path])switch(e.event){case y.a.Create:break;case y.a.Move:case y.a.Delete:if(e.node.type!==y.b.Directory)throw new Error("later");var n=!0,r=!1,t=void 0;try{for(var a,i=v()(o[e.node.path].listeners);!(n=(a=i.next()).done);n=!0){var c=a.value,s=c.onMoveOrDelete,u=c.dispose;s&&s(e),u()}}catch(z){r=!0,t=z}finally{try{n||null==i.return||i.return()}finally{if(r)throw t}}break;default:throw new Error("unknown event")}var l=e.node.path.includes("/")?Object(x.d)(e.node.path):F.a,A=o[l];if(A)switch(e.event){case y.a.Create:var f=e.node.path.split("/").pop();if(!f)throw new Error("Expected filename");var d=[].concat(Object(h.a)(A.children.filter((function(e){return e.filename!==f}))),[{type:e.node.type,filename:f}]),p=!0,b=!1,w=void 0;try{for(var E,C=v()(A.listeners);!(p=(E=C.next()).done);p=!0){(0,E.value.onChange)(d)}}catch(z){b=!0,w=z}finally{try{p||null==C.return||C.return()}finally{if(b)throw w}}A.children=d;break;case y.a.Move:if(e.node.type!==y.b.Directory)throw new Error("later");var m=A.children.filter((function(n){return n.filename!==e.node.path})),g=!0,O=!1,k=void 0;try{for(var N,T=v()(A.listeners);!(g=(N=T.next()).done);g=!0){(0,N.value.onChange)(m)}}catch(z){O=!0,k=z}finally{try{g||null==T.return||T.return()}finally{if(O)throw k}}A.children=m;var I=e.to.split("/").slice(0,-1).join("/"),S=o[I];if(!S)return;var j={filename:e.node.path,type:e.node.type},D=[].concat(Object(h.a)(S.children),[j]),R=!0,B=!1,U=void 0;try{for(var L,M=v()(S.listeners);!(R=(L=M.next()).done);R=!0){(0,L.value.onChange)(D)}}catch(z){B=!0,U=z}finally{try{R||null==M.return||M.return()}finally{if(B)throw U}}S.children=D;break;case y.a.Delete:var G=e.node.path.split("/").pop(),_=A.children.filter((function(e){return e.filename!==G})),P=!0,Q=!1,Y=void 0;try{for(var q,W=v()(A.listeners);!(P=(q=W.next()).done);P=!0){(0,q.value.onChange)(_)}}catch(z){Q=!0,Y=z}finally{try{P||null==W.return||W.return()}finally{if(Q)throw Y}}A.children=_;break;default:throw new Error("unknown event")}}function u(e){var n=new p.a((function(n,r){a.push({path:e,op:"readDir",resolve:n,reject:r})}));return c(),n}return n.openChannel({service:"fsevents",skip:function(){return!Object(L.a)()}},(function(e){var n=e.error,r=e.channel;if(!n){if(!r)throw new Error("Expected channel");t=r,r.onCommand((function(e){if("fileEvent"===e.body){if(!e.fileEvent)throw new Error("Expected fileEvent");var n=e.fileEvent,r=n.file,t=n.op;if(r){var o=r.path;if(null!==o&&null!==t&&void 0!==o&&void 0!==t){var a=null;if(r.type===k.api.File.Type.DIRECTORY?a=y.b.Directory:r.type===k.api.File.Type.REGULAR&&(a=y.b.File),!a)throw new Error("Expected fileType");switch(t){case k.api.FileEvent.Op.Create:s({event:y.a.Create,node:{path:o,type:a}});break;case k.api.FileEvent.Op.Modify:if(a===y.b.Directory)break;break;case k.api.FileEvent.Op.Remove:s({event:y.a.Delete,node:{path:o,type:a}});break;case k.api.FileEvent.Op.Move:}}}}}));var a=E()(o).map((function(e){return{path:e}}));return a.length&&r.send({subscribeFile:{files:a}}),function(){t=null}}})),n.openChannel({service:"files",skip:function(){return!Object(L.a)()}},(function(e){var n=e.error,t=e.channel;if(!n){if(!t)throw new Error("Expected channel");return r=t,c(),function(e){var n=e.willReconnect;r=null,n&&(i&&a.unshift(i),i=null),n||(a=[])}}})),{readFile:function(e){var n=new p.a((function(n,r){a.push({path:e,op:"readFile",resolve:n,reject:r})}));return c(),n},readDir:u,writeFile:function(e,n){var r=new p.a((function(r,t){a.push({path:e,content:n,op:"writeFile",resolve:r,reject:t})}));return c(),r.then((function(n){n.error||s({event:y.a.Create,node:{path:e,type:y.b.File}})})),r},createDir:function(e){var n=new p.a((function(n,r){a.push({path:e,op:"createDir",resolve:n,reject:r})}));return c(),n.then((function(n){n.error||s({event:y.a.Create,node:{path:e,type:y.b.Directory}})})),n},moveFile:function(e,n){var r=new p.a((function(r,t){a.push({path:e,to:n,op:"moveFile",resolve:r,reject:t})}));return c(),r.then((function(r){r.error||(s({event:y.a.Create,node:{path:n,type:y.b.File}}),s({event:y.a.Delete,node:{path:e,type:y.b.File}}))})),r},moveDir:function(e,n){var r=new p.a((function(r,t){a.push({path:e,to:n,op:"moveDir",resolve:r,reject:t})}));return c(),r.then((function(r){r.error||(s({event:y.a.Create,node:{path:n,type:y.b.Directory}}),s({event:y.a.Delete,node:{path:e,type:y.b.Directory}}))})),r},watchDir:function(e,n){var r=!1,a=function n(){r=!0,o[e]&&(o[e].listeners=o[e].listeners.filter((function(e){return e.dispose!==n})),0===o[e].listeners.length&&delete o[e])};return o[e]=o[e]||{path:e,type:y.b.Directory,children:[],listeners:[]},o[e].listeners.push(G({},n,{dispose:a})),t&&t.send({subscribeFile:{files:[{path:e}]}}),u(e).then((function(t){if(!r){if(t.error){var i=new Error(t.error);return i.code=t.error,n.onError(i),void a()}o[e]?(o[e].children=t.children,n.onChange(t.children)):n.onError(new Error("Expected watchDir with path:"+e))}})).catch(n.onError),a},deleteFile:function(e){var n=new p.a((function(n,r){a.push({path:e,op:"deleteFile",resolve:n,reject:r})}));return c(),n.then((function(n){n.error||s({event:y.a.Delete,node:{path:e,type:y.b.File}})})),n},deleteDir:function(e){var n=new p.a((function(n,r){a.push({path:e,op:"deleteDir",resolve:n,reject:r})}));return c(),n.then((function(n){n.error||s({event:y.a.Delete,node:{path:e,type:y.b.Directory}})})),n},exists:function(e){var r;return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.awrap(n.exec("test","-e",e));case 2:return r=t.sent,t.abrupt("return",!r.error);case 4:case"end":return t.stop()}}))}}}r.d(n,"a",(function(){return _}))},VZNv:function(e,n,r){"use strict";r.d(n,"a",(function(){return A}));var t=r("ln6h"),o=r.n(t),a=r("0gYX"),i=r.n(a),c=r("5/z4"),s=r("HADy"),u=r("Fz/E"),l=r("6bXu");function A(e){var n=e.container,r=e.beforeRun,t=Object(u.a)(),a=null,A=s.b.OFFLINE,f="none",d=!1,p=Math.random();function h(){var e=function(e){A!==e&&(A=e,t.emit(s.a.STATE_CHANGE,A))};e(a?d?s.b.STOPPING:"none"===f?s.b.IDLE:s.b.RUNNING:s.b.OFFLINE)}return n.openChannel({name:"shellrunner",service:"shellrun2",skip:function(e){var n,r=e.repl;return!Object(l.a)()||(n=r.language,!(!0===i.a.usesInterpreter(n)||!1!==i.a.usesRunProject(n)))}},(function(e){var n=e.channel;if(!e.error){if(!n)throw new Error("Expected error");return a=n,h(),n.onCommand((function(e){switch(e.body){case"state":var n=e.state===c.api.State.Stopped;d&&n&&(d=!1),n?"server"===f&&(f="none"):f="server",h();break;case"output":t.emit(s.a.OUTPUT,e.output)}})),function(){f="none",d=!1,a=null,h()}}})),{run:function(){var e;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(A===s.b.IDLE){n.next=2;break}throw new Error("Cannot run while state is not IDLE, got state: "+A);case 2:return e=Math.random(),p=e,f="before-run",h(),n.next=8,o.a.awrap(r());case 8:if(p===e){n.next=10;break}return n.abrupt("return");case 10:if("none"!==f){n.next=12;break}return n.abrupt("return");case 12:if("server"!==f){n.next=14;break}return n.abrupt("return");case 14:if(a){n.next=16;break}throw new Error("State is RUNNING but shellrunner is null?");case 16:f="optimistic",a.send({runMain:{}});case 18:case"end":return n.stop()}}))},stopRun:function(){if(A!==s.b.RUNNING)throw new Error("stopRun must be called when running but got ".concat(A));if(!a)throw new Error("State is RUNNING but shellrunner is null?");if("before-run"===f)return f="none",void h();f="none",d=!0,h(),a.send({clear:{}})},sendInput:function(e){return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(A===s.b.IDLE||A===s.b.RUNNING){n.next=2;break}throw new Error("Can only send input when running or idle");case 2:if(a){n.next=4;break}throw new Error("State is not OFFLINE but shellrunner is null?");case 4:a.send({input:e});case 5:case"end":return n.stop()}}))},resizeTerminal:function(e){if(!a)throw new Error("resizeTerminal must be called when online");a.send({resizeTerm:e})},onOutput:function(e){return t.on(s.a.OUTPUT,e),function(){t.removeListener(s.a.OUTPUT,e)}},onStateChanged:function(e){return t.on(s.a.STATE_CHANGE,e),function(){t.removeListener(s.a.STATE_CHANGE,e)}},getRunState:function(){return A}}}},WK0V:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),r("dy/U"),r("I3P5");var t=r("eTwx");Object.defineProperty(n,"Client",{enumerable:!0,get:function(){return t.Client}});var o=r("1dJL");Object.defineProperty(n,"Channel",{enumerable:!0,get:function(){return o.Channel}});var a=r("yLpU");Object.defineProperty(n,"ClientCloseReason",{enumerable:!0,get:function(){return a.ClientCloseReason}})},dDrW:function(e,n){e.exports="data:application/x-font-ttf;base64,AAEAAAAOAIAAAwBgRkZUTYQd29oAAAWIAAAAHEdERUYAKQAqAAAFYAAAACZPUy8yQ0FcUwAAAWgAAABgY21hcAAP8lIAAAHYAAABQmN2dCAAIgKIAAADHAAAAARnYXNwAAAAAQAABVgAAAAIZ2x5ZqQ1ewkAAAMsAAAAiGhlYWQPsR5/AAAA7AAAADZoaGVhBgEEBQAAASQAAAAkaG10eAwAAKIAAAHIAAAAEGxvY2EAbgBUAAADIAAAAAptYXhwAAgAPAAAAUgAAAAgbmFtZSBsbRoAAAO0AAABbnBvc3SwqUy9AAAFJAAAADIAAQAAAAAAAI7W8KxfDzz1AAsEAAAAAADXNj/0AAAAANc7muQAIgAAAgACqgAAAAgAAgAAAAAAAAABAAAEAAAAAAAEAAAAAAACAAABAAAAAAAAAAAAAAAAAAAABAABAAAABAAMAAMAAAAAAAIAAAAAAAAAAAAAAC4AAAAAAAMEAAGQAAUAAAKAAwAAAACAAoADAAAAAgAAAAEAAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAFBmRWQAQO6n7qcEAAAAAAAEAAAAAAAAAQAAAAAAAAAAAAAAIAABBAAAIgAAAAAEAAAABAAAgAAAAAMAAAADAAAAHAABAAAAAAA8AAMAAQAAABwABAAgAAAABAAEAAEAAO6n//8AAO6n//8RXAABAAAAAAAAAQYAAAEAAAAAAAAAAQIAAAACAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAiAogAAAAqACoAKgBEAAAAAgAiAAABMgKqAAMABwAusQEALzyyBwQA7TKxBgXcPLIDAgDtMgCxAwAvPLIFBADtMrIHBgH8PLIBAgDtMjMRIREnMxEjIgEQ7szMAqr9ViICZgAAAwCAAAACAAJAAAMABwALAAABFTM1BRUzNQMVMzUBQMD+gMDAwAGAwMDAwMABgMDAAAAAAAAADgCuAAEAAAAAAAAAAAACAAEAAAAAAAEACwAbAAEAAAAAAAIAAQArAAEAAAAAAAMADABHAAEAAAAAAAQACwBsAAEAAAAAAAUACwCQAAEAAAAAAAYACwC0AAMAAQQJAAAAAAAAAAMAAQQJAAEAFgADAAMAAQQJAAIAAgAnAAMAAQQJAAMAGAAtAAMAAQQJAAQAFgBUAAMAAQQJAAUAFgB4AAMAAQQJAAYAFgCcAAAAAHIAZQBwAGwAaQB0AGkAYwBvAG4AcwAAcmVwbGl0aWNvbnMAAAoAAAoAAHIAZQBwAGwAaQB0ACAAaQBjAG8AbgBzAAByZXBsaXQgaWNvbnMAAHIAZQBwAGwAaQB0AGkAYwBvAG4AcwAAcmVwbGl0aWNvbnMAAFYAZQByAHMAaQBvAG4AIAAxAC4AMAAAVmVyc2lvbiAxLjAAAHIAZQBwAGwAaQB0AGkAYwBvAG4AcwAAcmVwbGl0aWNvbnMAAAAAAgAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAEAAAAAQACAQIHdW5pRUVBNwAAAAEAAf//AAAAAQAAAAwAAAAWAB4AAgABAAMAAwABAAQAAAACAAAAAQAAAAEAAAAAAAAAAQAAAADVrAEBAAAAANc2P/QAAAAA1zua5A=="},"dy/U":function(e,n,r){(function(t){var o,a;void 0===(a="function"===typeof(o=function(){"use strict";function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function r(e,r,t){return r&&n(e.prototype,r),t&&n(e,t),e}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,n){return(a=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,n){return!n||"object"!==typeof n&&"function"!==typeof n?i(e):n}function s(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,t=o(e);if(n){var a=o(this).constructor;r=Reflect.construct(t,arguments,a)}else r=t.apply(this,arguments);return c(this,r)}}function u(e,n,r){return(u="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,n,r){var t=function(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=o(e)););return e}(e,n);if(t){var a=Object.getOwnPropertyDescriptor(t,n);return a.get?a.get.call(r):a.value}})(e,n,r||e)}var l=function(){function n(){e(this,n),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return r(n,[{key:"addEventListener",value:function(e,n){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(n)}},{key:"removeEventListener",value:function(e,n){if(e in this.listeners)for(var r=this.listeners[e],t=0,o=r.length;t<o;t++)if(r[t]===n)return void r.splice(t,1)}},{key:"dispatchEvent",value:function(e){var n=this;if(e.type in this.listeners){for(var r=function(r){setTimeout((function(){return r.call(n,e)}))},t=this.listeners[e.type],o=0,a=t.length;o<a;o++)r(t[o]);return!e.defaultPrevented}}}]),n}(),A=function(n){!function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&a(e,n)}(c,n);var t=s(c);function c(){var n;return e(this,c),(n=t.call(this)).listeners||l.call(i(n)),Object.defineProperty(i(n),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(i(n),"onabort",{value:null,writable:!0,configurable:!0}),n}return r(c,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(e){"abort"===e.type&&(this.aborted=!0,"function"===typeof this.onabort&&this.onabort.call(this,e)),u(o(c.prototype),"dispatchEvent",this).call(this,e)}}]),c}(l),f=function(){function n(){e(this,n),Object.defineProperty(this,"signal",{value:new A,writable:!0,configurable:!0})}return r(n,[{key:"abort",value:function(){var e;try{e=new Event("abort")}catch(n){"undefined"!==typeof document?document.createEvent?(e=document.createEvent("Event")).initEvent("abort",!1,!1):(e=document.createEventObject()).type="abort":e={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(e)}},{key:"toString",value:function(){return"[object AbortController]"}}]),n}();"undefined"!==typeof Symbol&&Symbol.toStringTag&&(f.prototype[Symbol.toStringTag]="AbortController",A.prototype[Symbol.toStringTag]="AbortSignal"),function(e){(function(e){return e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"===typeof e.Request&&!e.Request.prototype.hasOwnProperty("signal")||!e.AbortController})(e)&&(e.AbortController=f,e.AbortSignal=A)}("undefined"!==typeof self?self:t)})?o.call(n,r,n,e):o)||(e.exports=a)}).call(this,r("yLpj"))},eTwx:function(e,n,r){"use strict";var t=this&&this.__assign||function(){return(t=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,n,r,t){return new(r||(r=Promise))((function(o,a){function i(e){try{s(t.next(e))}catch(n){a(n)}}function c(e){try{s(t.throw(e))}catch(n){a(n)}}function s(e){var n;e.done?o(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(i,c)}s((t=t.apply(e,n||[])).next())}))},a=this&&this.__generator||function(e,n){var r,t,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,t&&(o=2&a[0]?t.return:a[0]?t.throw||((o=t.return)&&o.call(t),0):t.next)&&!(o=o.call(t,a[1])).done)return o;switch(t=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,t=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(e,i)}catch(c){a=[6,c],t=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};Object.defineProperty(n,"__esModule",{value:!0}),n.Client=void 0;var i,c=r("5/z4"),s=r("1dJL"),u=r("AJXi"),l=r("yLpU");!function(e){e[e.CONNECTING=0]="CONNECTING",e[e.CONNECTED=1]="CONNECTED",e[e.DISCONNECTED=2]="DISCONNECTED"}(i||(i={}));var A={secure:!1,host:"eval.repl.it",port:"80"},f=function(){function e(){var e=this;this.open=function(n,r){if(e.chan0Cb){var i=new Error("You must call `close` before opening the client again");throw e.onUnrecoverableError(i),i}var c=n.fetchConnectionMetadata;if(!c||"function"!==typeof c){var s=n.fetchToken;if(!s||"function"!==typeof s){i=new Error("You must provide a fetchConnectionMetadata/fetchToken function");throw e.onUnrecoverableError(i),i}var u=n.urlOptions||A,l=u.secure,f=u.host,d=u.port;c=function(n){return o(e,void 0,void 0,(function(){var e,r;return a(this,(function(t){switch(t.label){case 0:return[4,s(n)];case 1:return e=t.sent(),r=e.token,e.aborted||!r?[2,{connectionMetadata:null,aborted:!0}]:[2,{connectionMetadata:{token:r,gurl:"ws"+(l?"s":"")+"://"+f+":"+d,conmanURL:"http"+(l?"s":"")+"://"+f+":"+d},aborted:!1}]}}))}))}}if(e.destroyed){i=new Error("Client has been destroyed and cannot be re-used");throw e.onUnrecoverableError(i),i}e.connectOptions=t({fetchConnectionMetadata:c,timeout:1e4},n),e.debug({type:"breadcrumb",message:"open",data:{polling:!1}}),e.chan0Cb=r,e.connect()},this.openChannel=function(n,r){if(n.name&&e.channelRequests.some((function(e){return e.options.name===n.name}))){var t=new Error("Channel with name "+n.name+" already opened");throw e.onUnrecoverableError(t),t}if(e.destroyed){t=new Error("Client has been destroyed and is");throw e.onUnrecoverableError(t),t}var o={options:n,openChannelCb:r,isOpen:!1,channelId:null,cleanupCb:null,closeRequested:!1};e.channelRequests.push(o),e.connectionState===i.CONNECTED&&e.requestOpenChannel(o);var a=!1;return function(){a||(a=!0,o.closeRequested=!0,o.isOpen?e.requestCloseChannel(o):e.channelRequests=e.channelRequests.filter((function(e){return e!==o})))}},this.requestOpenChannel=function(n){var r=n.options,t=n.openChannelCb;if(e.connectOptions){var o=r.skip;if(!o||!o(e.connectOptions.context)){var a=r.action;if(a||(a=null==r.name?c.api.OpenChannel.Action.CREATE:c.api.OpenChannel.Action.ATTACH_OR_CREATE),n.channelId)e.onUnrecoverableError(new Error("Unexpected channelId"));else{e.debug({type:"breadcrumb",message:"handleOpenChannel",data:{name:r.name,service:r.service,action:a}});var i=e.getChannel(0),u=Number(Math.random().toString().split(".")[1]).toString(36);i.send({ref:u,openChan:{name:r.name,service:r.service,action:a}});var l=i.onCommand((function(r){if(u===r.ref)if(l(),null!=r.openChanRes){var o=r.openChanRes,a=o.id,i=o.state,A=o.error;if(e.debug({type:"breadcrumb",message:"openChanres"}),e.connectOptions)if(i!==c.api.OpenChannelRes.State.ERROR)if("number"===typeof a&&"number"===typeof i){var f=new s.Channel({id:a,onUnrecoverableError:e.onUnrecoverableError,send:e.send});e.channels[a]=f,n.channelId=a,n.isOpen=!0,n.cleanupCb=t({channel:f,error:null,context:e.connectOptions.context}),n.closeRequested&&e.requestCloseChannel(n)}else e.onUnrecoverableError(new Error("Expected state and channel id"));else e.onUnrecoverableError(new Error("Channel open resulted with an error: "+(A||"with no message")));else e.onUnrecoverableError(new Error("Expected connectionOptions"))}else e.onUnrecoverableError(new Error("Expected openChanRes on command"))}))}}}else e.onUnrecoverableError(new Error("Expected connectionOptions"))},this.requestCloseChannel=function(n){return o(e,void 0,void 0,(function(){var e,r,t,o,i;return a(this,(function(a){switch(a.label){case 0:return n.isOpen?(e=n.channelId,(r=this.getChannel(n.channelId)).status="closing",(t=this.getChannel(0))?(this.debug({type:"breadcrumb",message:"requestChannelClose",data:{id:e,name:n.options.name,service:n.options.service}}),[4,t.request({closeChan:{action:c.api.CloseChannel.Action.TRY_CLOSE,id:n.channelId}})]):(this.onUnrecoverableError(new Error("Tried to request a channel close but there was no chan0")),[2])):(this.onUnrecoverableError(new Error("Tried to request a channel close before opening")),[2]);case 1:if((o=a.sent()).channelClosed)this.debug({type:"breadcrumb",message:"requestChannelClose:chan0Closed",data:{id:e,name:n.options.name,service:n.options.service}});else{if(null==o.closeChanRes)return this.onUnrecoverableError(new Error("Expected closeChanRes")),[2];if(null==(i=o.closeChanRes.id))return this.onUnrecoverableError(new Error("Expected id, got "+i)),[2];if(i!==e)return this.onUnrecoverableError(new Error("Expected id from closeChanRes to be "+e+" got "+i)),[2];this.debug({type:"breadcrumb",message:"requestChannelClose:closeChanRes",data:{id:e,name:n.options.name,service:n.options.service,closeStatus:o.closeChanRes.status}})}return this.channelRequests=this.channelRequests.filter((function(e){return e!==n})),delete this.channels[e],r.handleClose({initiator:"channel",willReconnect:!1}),n.cleanupCb&&n.cleanupCb({initiator:"channel",willReconnect:!1}),[2]}}))}))},this.close=function(){if(e.debug({type:"breadcrumb",message:"user close"}),!e.chan0Cb||!e.connectOptions){var n=new Error("Must call client.connect before closing");throw e.onUnrecoverableError(n),n}e.fetchTokenAbortController&&(e.fetchTokenAbortController.abort(),e.fetchTokenAbortController=null),e.handleClose({closeReason:l.ClientCloseReason.Intentional})},this.destroy=function(){e.destroyed=!0,e.debug({type:"breadcrumb",message:"destroy"}),e.connectionState!==i.DISCONNECTED&&e.close(),e.debug=function(){},e.userUnrecoverableErrorHandler=null,e.channelRequests=[],e.destroyed=!0},this.connect=function(n){return void 0===n&&(n=0),o(e,void 0,void 0,(function(){var e,r,t,o,l,A,f,d,p,h,b,v,w,E,C,m,g,y=this;return a(this,(function(a){switch(a.label){case 0:if(this.debug({type:"breadcrumb",message:"connecting",data:{connectionState:this.connectionState,connectTries:n,readyState:this.ws?this.ws.readyState:void 0,chan0CbExists:Boolean(this.chan0Cb)}}),this.connectionState!==i.DISCONNECTED)throw e=new Error("Client must be disconnected to connect"),this.onUnrecoverableError(e),e;if(this.ws)throw e=new Error("Unexpected existing websocket instance"),this.onUnrecoverableError(e),e;if(!this.connectOptions)throw e=new Error("Expected connectionOptions"),this.onUnrecoverableError(e),e;if(!this.chan0Cb)return this.onUnrecoverableError(new Error("Expected chan0Cb")),[2];if(this.chan0CleanupCb)return this.onUnrecoverableError(new Error("Unexpected chan0CleanupCb, are you sure you closed")),[2];if(this.channelRequests.some((function(e){return e.isOpen})))return this.onUnrecoverableError(new Error("All channels should be closed when we connect")),[2];if(Object.keys(this.channels).length)return this.onUnrecoverableError(new Error("Found an an unexpected existing channels")),[2];if(r=n+1,this.connectionState=i.CONNECTING,t=new s.Channel({id:0,onUnrecoverableError:this.onUnrecoverableError,send:this.send}),this.channels[0]=t,o=u.getWebSocketClass(this.connectOptions),this.fetchTokenAbortController)return this.onUnrecoverableError(new Error("Expected fetchTokenAbortController to be null")),[2];l=new AbortController,this.fetchTokenAbortController=l,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.connectOptions.fetchConnectionMetadata(l.signal)];case 2:return A=a.sent(),[3,4];case 3:return f=a.sent(),this.onUnrecoverableError(f),[2];case 4:return this.fetchTokenAbortController=null,d=A.connectionMetadata,p=A.aborted,l.signal.aborted!==p?l.signal.aborted?(this.onUnrecoverableError(new Error("Expected abort returned from fetchConnectionMetadata to be truthy when the controller aborts")),[2]):(this.onUnrecoverableError(new Error("Abort should only be truthy returned when the abort signal is triggered")),[2]):d&&p?(this.onUnrecoverableError(new Error("Expected either aborted or a connectionMetadata")),[2]):p?[2]:d?this.connectionState!==i.CONNECTING?(this.onUnrecoverableError(new Error("Client was closed before connecting")),[2]):(h=u.getConnectionStr(d),(b=new o(h)).binaryType="arraybuffer",b.onmessage=this.onSocketMessage,this.ws=b,v=null,b.onerror=function(){v?v(new Error("WebSocket errored")):y.onUnrecoverableError(new Error("Got websocket error but no `onFailed` cb"))},b.onclose=function(){v?v(new Error("WebSocket closed before we got READY")):y.onUnrecoverableError(new Error("Got websocket closure but no `onFailed` cb"))},w=function(){},E=function(){},null!==(C=this.connectOptions.timeout)&&(E=function(){return clearTimeout(m)},w=function(){E(),m=setTimeout((function(){y.debug({type:"breadcrumb",message:"connect timeout"}),v?v(new Error("timeout")):y.onUnrecoverableError(new Error("Connecting timed out but there was no `onFailed` cb"))}),C)}),g=t.onCommand((function(e){if(w(),null!=e.containerState)if(null!=e.containerState.state){var n=e.containerState.state;y.debug({type:"breadcrumb",message:"containerState",data:n});var r=c.api.ContainerState.State;switch(n){case r.READY:if(g(),E(),!y.connectOptions)return void y.onUnrecoverableError(new Error("Expected connectionOptions"));if(!t)return void y.onUnrecoverableError(new Error("Expected chan0 to be truthy"));if(!y.chan0Cb)return void y.onUnrecoverableError(new Error("Expected chan0Cb to be truthy"));y.handleConnect();var o=y.close;y.close=function(){return setTimeout((function(){o()}),0)},y.chan0CleanupCb=y.chan0Cb({channel:t,error:null,context:y.connectOptions.context}),y.close=o;break;case r.SLEEP:if(!v)return void y.onUnrecoverableError(new Error("Got SLEEP but there was no `onFailed` cb"));v(new Error("Got SLEEP as container state"))}}else y.onUnrecoverableError(new Error("Got containterState but state was not defined"))})),v=function(e){v=null,y.cleanupSocket(),E(),g(),y.retryTimeoutId?y.onUnrecoverableError(new Error("unexpected existing retryTimeoutId")):y.chan0Cb&&(y.retryTimeoutId=setTimeout((function(){y.chan0Cb?(y.retryTimeoutId=null,y.debug({type:"breadcrumb",message:"retrying",data:{connectionState:y.connectionState,connectTries:r,error:e,wsReadyState:y.ws?y.ws.readyState:void 0}}),t.handleClose({initiator:"client",willReconnect:!0}),delete y.channels[0],y.connectionState=i.DISCONNECTED,y.connect(r)):y.onUnrecoverableError(new Error("Scheduled retry is called after we closed?"))}),u.getNextRetryDelay(r)))},[2]):(this.onUnrecoverableError(new Error("Expected connectionMetadata to be non-empty or request to be aborted")),[2])}}))}))},this.send=function(n){e.debug({type:"log",log:{direction:"out",cmd:n}});var r=c.api.Command.encode(n).finish(),t=r.buffer.slice(r.byteOffset,r.byteOffset+r.length);null!=e.ws?e.ws.send(t):e.onUnrecoverableError(new Error("Calling send on a closed client"))},this.onSocketMessage=function(n){var r=n.data,t=new Uint8Array(r),o=c.api.Command.decode(t);e.debug({type:"log",log:{direction:"in",cmd:o}}),e.getChannel(o.channel).handleCommand(o)},this.handleConnect=function(){if(e.connectionState=i.CONNECTED,e.debug({type:"breadcrumb",message:"connected!"}),e.ws){var n=function(n){e.connectionState!==i.DISCONNECTED?(e.debug({type:"breadcrumb",message:"wsclose",data:{event:n}}),e.handleClose({closeReason:l.ClientCloseReason.Disconnected,wsEvent:n})):e.onUnrecoverableError(new Error("Got a close event on socket but client is in disconnected state"))};e.ws.onclose=n,e.ws.onerror=n,e.channelRequests.forEach((function(n){e.requestOpenChannel(n)}))}else e.onUnrecoverableError(new Error("Expected Websocket instance"))},this.handleClose=function(n){if(n.closeReason!==l.ClientCloseReason.Error){if(e.connectionState===i.DISCONNECTED)return void e.onUnrecoverableError(new Error("handleClose is called but client already disconnected"));if(e.ws&&e.fetchTokenAbortController)return void e.onUnrecoverableError(new Error("fetchTokenAbortController and websocket exist simultaneously"))}e.cleanupSocket(),e.retryTimeoutId&&clearTimeout(e.retryTimeoutId);var r=n.closeReason===l.ClientCloseReason.Disconnected;if(e.channelRequests.forEach((function(t){var o=r&&!t.closeRequested;if(t.isOpen)e.getChannel(t.channelId).handleClose({initiator:"client",willReconnect:o}),delete e.channels[t.channelId];else if(!o)if(e.connectOptions)t.openChannelCb({channel:null,error:new Error("Failed to open"),context:e.connectOptions.context});else if(n.closeReason!==l.ClientCloseReason.Error)return void e.onUnrecoverableError(new Error("Expected connectionOptions"));var a=t.cleanupCb;t.channelId=null,t.isOpen=!1,t.cleanupCb=null,t.closeRequested=!1,a&&a({initiator:"client",willReconnect:o})})),e.channels[0]&&(e.channels[0].handleClose({initiator:"client",willReconnect:r}),delete e.channels[0]),0===Object.keys(e.channels).length||(e.channels={},n.closeReason===l.ClientCloseReason.Error)){if(e.chan0CleanupCb)e.chan0CleanupCb({initiator:"client",willReconnect:r}),e.chan0CleanupCb=null;else if(!r)if(e.chan0Cb&&e.connectOptions)e.chan0Cb({channel:null,error:new Error("Failed to open"),context:e.connectOptions.context});else if(n.closeReason!==l.ClientCloseReason.Error)return void e.onUnrecoverableError(new Error("open should have been called before `handleClose`"));if(e.connectionState=i.DISCONNECTED,!r)return e.chan0Cb=null,void(e.connectOptions=null);e.debug({type:"breadcrumb",message:"reconnecting"}),e.connect()}else e.onUnrecoverableError(new Error("channels object should be empty after channelRequests and chan0 cleanup"))},this.cleanupSocket=function(){var n=e.ws;e.debug({type:"breadcrumb",message:"cleanupSocket",data:{hasWs:Boolean(n),readyState:n?n.readyState:null,connectionState:e.connectionState}}),n&&(e.ws=null,n.onmessage=null,n.onclose=null,n.onerror=function(){},0!==n.readyState&&1!==n.readyState||(e.debug({type:"breadcrumb",message:"wsclose"}),n.close()))},this.onUnrecoverableError=function(n){if(e.connectionState!==i.DISCONNECTED)try{e.handleClose({closeReason:l.ClientCloseReason.Error,error:n})}catch(r){console.error("handleClose errored during unrecoverable error"),console.error(r)}if(!e.userUnrecoverableErrorHandler)throw console.error("Please supply your own unrecoverable error handling function"),n;e.userUnrecoverableErrorHandler(n)},this.ws=null,this.channels={},this.connectOptions=null,this.chan0Cb=null,this.chan0CleanupCb=null,this.connectionState=i.DISCONNECTED,this.debug=function(){},this.userUnrecoverableErrorHandler=null,this.channelRequests=[],this.retryTimeoutId=null,this.fetchTokenAbortController=null,this.destroyed=!1,this.debug({type:"breadcrumb",message:"constructor"})}return e.prototype.getChannel=function(e){var n=this.channels[e];if(this.debug({type:"breadcrumb",message:"getChannel",data:{id:e}}),!n){var r=new Error("No channel with number "+e);throw this.onUnrecoverableError(r),r}return n},e.prototype.setDebugFunc=function(e){this.debug=e},e.prototype.setUnrecoverableErrorHandler=function(e){this.userUnrecoverableErrorHandler=e},e}();n.Client=f},fA4Q:function(e,n,r){"use strict";var t=r("hfKm"),o=r.n(t),a=r("2Eek"),i=r.n(a),c=r("XoMD"),s=r.n(c),u=r("Jo+v"),l=r.n(u),A=r("4mXO"),f=r.n(A),d=r("pLtp"),p=r.n(d),h=r("ln6h"),b=r.n(h),v=r("qNsG"),w=r("vYYK"),E=r("WK0V"),C=r("zgDP"),m=r("o40J"),g=r("eVuF"),y=r.n(g);function x(e){var n,r;return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.client,r=e.args,t.abrupt("return",new y.a((function(e){var t=n.openChannel({service:"exec"},(function(n){var o=n.error,a=n.channel;if(o)e({error:o.message,output:null});else{if(!a)throw new Error("Expected channel");var i="";a.onCommand((function(e){e.output&&(i+=e.output)})),a.request({exec:{args:r}}).then((function(n){n.channelClosed?e({error:"Channel closed",output:i||null}):("open"===a.status&&t(),n.error?e({error:n.error,output:i||null}):e({output:i,error:null}))}))}}))})));case 2:case"end":return t.stop()}}))}var O,k=r("JxgA"),N=r("wCw9");function T(e,n){var r=p()(e);if(f.a){var t=f()(e);n&&(t=t.filter((function(n){return l()(e,n).enumerable}))),r.push.apply(r,t)}return r}function I(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?T(Object(r),!0).forEach((function(n){Object(w.a)(e,n,r[n])})):s.a?i()(e,s()(r)):T(Object(r)).forEach((function(n){o()(e,n,l()(r,n))}))}return e}function S(e){var n,r,t,o,a,i,c;return b.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(n=e.replId,r=e.isVnc,t=e.canWrite,o=e.isLoggedIn,a=function(e){Object(C.track)(C.events.GOVAL_CONNECTION_FAILED,{error:e&&e.message||"unidentified failure",host:window.location.hostname,replId:n,reason:"captcha",context:"services"})},i={tokenUrl:"/data/repls/".concat(n,"/gen_repl_token"),clientVersion:"005d3b5",hCaptchaSiteKey:k.a,flags:{}},!o){s.next=5;break}return s.abrupt("return",Object(N.a)(i));case 5:return s.prev=5,s.next=8,b.a.awrap(Object(k.b)());case 8:return c=s.sent,s.abrupt("return",Object(N.a)(I({},i,{captcha:c})));case 12:return s.prev=12,s.t0=s.catch(5),a(s.t0),s.abrupt("return",S({replId:n,isVnc:r,canWrite:t}));case 16:case"end":return s.stop()}}),null,null,[[5,12]])}!function(e){e.CONNECTING="CONNECTING",e.CONNECTED="CONNECTED",e.DISCONNECTED="DISCONNECTED"}(O||(O={}));var j=r("Fz/E");function D(e,n){var r=p()(e);if(f.a){var t=f()(e);n&&(t=t.filter((function(n){return l()(e,n).enumerable}))),r.push.apply(r,t)}return r}function R(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?D(Object(r),!0).forEach((function(n){Object(w.a)(e,n,r[n])})):s.a?i()(e,s()(r)):D(Object(r)).forEach((function(n){o()(e,n,l()(r,n))}))}return e}r.d(n,"b",(function(){return L})),r.d(n,"a",(function(){return O}));var B,U=5900;!function(e){e.CONNECTION_STATE_CHANGE="CONNECTION_STATE_CHANGE",e.PORT_OPEN="PORT_OPEN"}(B||(B={}));var F=function(e){return{}};function L(e){var n=e.onUnrecoverableError,r=Object(j.a)(),t=null,o=O.DISCONNECTED,a=function(e){o!==e&&(o=e,r.emit(B.CONNECTION_STATE_CHANGE,o))},i=new E.Client;return i.setUnrecoverableErrorHandler(n),{onPortOpened:function(e){return r.on(B.PORT_OPEN,e),function(){r.removeListener(B.PORT_OPEN,e)}},onConnectionStateChanged:function(e){return r.on(B.CONNECTION_STATE_CHANGE,e),function(){r.removeListener(B.CONNECTION_STATE_CHANGE,e)}},connect:function(e){var n=e.repl,c=e.currentUser,s=e.gurl,u=void 0===s?"wss://eval.repl.it":s,l=Object(v.a)(e,["repl","currentUser","gurl"]);t=n,o!==O.DISCONNECTED&&i.close();var A=Boolean(c),f=F(n),d={context:{repl:n,currentUser:c},urlOptions:Object(m.b)(u),fetchToken:function(e){var r,t;return b.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(!e.aborted){o.next=2;break}return o.abrupt("return",{aborted:!0,token:null});case 2:if(!l.fetchToken){o.next=8;break}return o.next=5,b.a.awrap(l.fetchToken());case 5:r=o.sent,o.next=11;break;case 8:return o.next=10,b.a.awrap(S(R({replId:n.id,isVnc:Boolean(n.config.isVnc),canWrite:Boolean(null===(t=n.currentUserPermissions)||void 0===t?void 0:t.containerWrite),isLoggedIn:A},f)));case 10:r=o.sent;case 11:if(!e.aborted){o.next=13;break}return o.abrupt("return",{aborted:!0,token:null});case 13:return o.abrupt("return",{aborted:!1,token:r});case 14:case"end":return o.stop()}}))}},p=window.performance.now(),h=0;i.open(d,(function(e){var t=e.channel;if(e.error)return a(O.DISCONNECTED),function(){};if(!t)throw new Error("Expected channel");var o=t.onCommand((function(e){switch(e.body){case"portOpen":if(!e.portOpen)throw new Error("portOpen only handles portOpen commands");var n=e.portOpen.port||0;if(5901===n)return;r.emit(B.PORT_OPEN,{port:n,isVnc:n===U,forwarded:Boolean(e.portOpen.forwarded)})}}));window.v6ws=i.ws;var c=n.id,s=n.language;return Object(C.track)(C.events.CONTAINER_SERVICE_CONNECTED,{time:window.performance.now()-p,reconnect:h,replId:c,language:s}),a(O.CONNECTED),function(e){if(o(),"willReconnect"in e&&e.willReconnect)return p=window.performance.now(),h++,void a(O.CONNECTING);a(O.DISCONNECTED)}})),a(O.CONNECTING)},openChannel:function(e,n){var r=window.performance.now(),o=0,a=e.name,c=e.service;return i.openChannel(e,(function(e){var i,s,u,l;Object(C.track)(C.events.OPEN_CHANNEL_CALLBACK_CALLED,{timeToOpen:window.performance.now()-r,replId:null===(i=t)||void 0===i?void 0:i.id,language:null===(s=t)||void 0===s?void 0:s.language,slug:null===(u=t)||void 0===u?void 0:u.slug,owner:null===(l=t)||void 0===l?void 0:l.owner,error:e.error,reconnect:o,name:a,service:c});var A=n(e);return function(e){A&&A(e),r=window.performance.now(),o++}}))},getConnectionState:function(){return o},exec:function(){var e,n,r,t=arguments;return b.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:for(e=t.length,n=new Array(e),r=0;r<e;r++)n[r]=t[r];return o.abrupt("return",x({client:i,args:n}));case 2:case"end":return o.stop()}}))},close:function(){t=null,o!==O.DISCONNECTED&&i.close()},destroy:function(){t=null,i.destroy(),r.removeAllListeners()},client:function(){return i},getRepl:function(){return t}}}},"hKI/":function(e,n,r){(function(n){var r="Expected a function",t=NaN,o="[object Symbol]",a=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt,l="object"==typeof n&&n&&n.Object===Object&&n,A="object"==typeof self&&self&&self.Object===Object&&self,f=l||A||Function("return this")(),d=Object.prototype.toString,p=Math.max,h=Math.min,b=function(){return f.Date.now()};function v(e,n,t){var o,a,i,c,s,u,l=0,A=!1,f=!1,d=!0;if("function"!=typeof e)throw new TypeError(r);function v(n){var r=o,t=a;return o=a=void 0,l=n,c=e.apply(t,r)}function C(e){var r=e-u;return void 0===u||r>=n||r<0||f&&e-l>=i}function m(){var e=b();if(C(e))return g(e);s=setTimeout(m,function(e){var r=n-(e-u);return f?h(r,i-(e-l)):r}(e))}function g(e){return s=void 0,d&&o?v(e):(o=a=void 0,c)}function y(){var e=b(),r=C(e);if(o=arguments,a=this,u=e,r){if(void 0===s)return function(e){return l=e,s=setTimeout(m,n),A?v(e):c}(u);if(f)return s=setTimeout(m,n),v(u)}return void 0===s&&(s=setTimeout(m,n)),c}return n=E(n)||0,w(t)&&(A=!!t.leading,i=(f="maxWait"in t)?p(E(t.maxWait)||0,n):i,d="trailing"in t?!!t.trailing:d),y.cancel=function(){void 0!==s&&clearTimeout(s),l=0,o=u=a=s=void 0},y.flush=function(){return void 0===s?c:g(b())},y}function w(e){var n=typeof e;return!!e&&("object"==n||"function"==n)}function E(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&d.call(e)==o}(e))return t;if(w(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=w(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var r=c.test(e);return r||s.test(e)?u(e.slice(2),r?2:8):i.test(e)?t:+e}e.exports=function(e,n,t){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError(r);return w(t)&&(o="leading"in t?!!t.leading:o,a="trailing"in t?!!t.trailing:a),v(e,n,{leading:o,maxWait:n,trailing:a})}}).call(this,r("yLpj"))},o40J:function(e,n,r){"use strict";r.d(n,"b",(function(){return S})),r.d(n,"a",(function(){return F}));var t=r("hfKm"),o=r.n(t),a=r("2Eek"),i=r.n(a),c=r("XoMD"),s=r.n(c),u=r("Jo+v"),l=r.n(u),A=r("4mXO"),f=r.n(A),d=r("pLtp"),p=r.n(d),h=r("vYYK"),b=r("ln6h"),v=r.n(b),w=r("eVuF"),E=r.n(w),C=r("xk4V"),m=r.n(C),g=r("g7Gn"),y=r("JxgA"),x=r("zgDP"),O=r("nOHt"),k=r.n(O),N=r("wCw9");function T(e,n){var r=p()(e);if(f.a){var t=f()(e);n&&(t=t.filter((function(n){return l()(e,n).enumerable}))),r.push.apply(r,t)}return r}function I(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?T(Object(r),!0).forEach((function(n){Object(h.a)(e,n,r[n])})):s.a?i()(e,s()(r)):T(Object(r)).forEach((function(n){o()(e,n,l()(r,n))}))}return e}function S(e){var n=new URL(e),r={secure:!1,port:""+n.port,host:n.hostname};return"wss:"===n.protocol?r.secure=!0:"ws:"!==n.protocol&&console.log(e,"Expected gurl protocol to be ws or wss, we'll give it a shot anyway"),r.port||(r.port=r.secure?"443":"80"),r}var j=1.7,D=15e3;function R(e){var n=Math.floor(500*Math.random()),r=1e3*Math.pow(j,e);return Math.min(r,D)+n}function B(){var e=window.performance.getEntriesByName("create-workspace");if(0===e.length)return g.c(new Error("Expected create-workspace mark")),null;if(e.length>1)return g.c(new Error("Expected a single create-workspace mark")),null;var n=e[0];return window.performance.now()-n.startTime}var U=0;function F(e){var n,r,t,o,a,i,c,s,u,l,A,f,d,p,h,b,w,C,g,O,T,j;return v.a.async((function(D){for(;;)switch(D.prev=D.next){case 0:n=e.client,r=e.repl,t=e.shouldAbort,o=e.onRetry,a=e.gurl,i=e.prefetchedToken,c=e.isLoggedIn,U++,s={token:i||"",urlOptions:S(a),timeout:1e4,polling:!1},k.a.query.fallback&&(s.urlOptions.host="gp-v2.herokuapp.com",s.polling=!0),u=0,l=0,A=!1,f=r.id,d=r.language,p=r.slug,h=m()(),b=function(){return v.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new E.a((function(e){setTimeout((function(){e()}),R(l))})));case 1:case"end":return e.stop()}}))};case 10:if(!1!==n.isConnected()){D.next=88;break}if(!t()){D.next=13;break}return D.abrupt("return");case 13:if(w=window.performance.now(),C=m()(),g={host:window.location.host,retries:l,replId:f,language:d,slug:p,attemptUuid:C,govalConnectUuid:h,connectCount:U},Object(x.track)(x.events.GOVAL_CONNECTION_ATTEMPTED,I({},g)),O="",D.prev=18,c){D.next=24;break}return D.next=22,v.a.awrap(Object(y.b)());case 22:O=D.sent,Object(x.track)(x.events.GOVAL_CONNECTION_STEP,I({},g,{time:window.performance.now()-w,timeSinceCreateWorkspace:B(),step:"captcha",failed:!1}));case 24:D.next=37;break;case 26:if(D.prev=26,D.t0=D.catch(18),Object(x.track)(x.events.GOVAL_CONNECTION_STEP,I({},g,{time:window.performance.now()-w,timeSinceCreateWorkspace:B(),step:"captcha",failed:!0})),Object(x.track)(x.events.GOVAL_CONNECTION_FAILED,I({},g,{error:D.t0&&D.t0.message||"unidentified failure",reason:"captcha"})),!t()){D.next=32;break}return D.abrupt("return");case 32:return l++,o(l),D.next=36,v.a.awrap(b());case 36:return D.abrupt("continue",10);case 37:if(!t()){D.next=39;break}return D.abrupt("return");case 39:if(T=window.performance.now(),i&&!A){D.next=61;break}return D.prev=41,D.next=44,v.a.awrap(Object(N.a)({tokenUrl:"/data/repls/".concat(r.id,"/gen_repl_token"),captcha:O,hCaptchaSiteKey:y.a,clientVersion:"005d3b5"}));case 44:s.token=D.sent,Object(x.track)(x.events.GOVAL_CONNECTION_STEP,I({},g,{time:window.performance.now()-T,timeSinceCreateWorkspace:B(),step:"fetchToken",failed:!1})),D.next=59;break;case 48:if(D.prev=48,D.t1=D.catch(41),Object(x.track)(x.events.GOVAL_CONNECTION_STEP,I({},g,{time:window.performance.now()-T,timeSinceCreateWorkspace:B(),step:"fetchToken",failed:!0})),Object(x.track)(x.events.GOVAL_CONNECTION_FAILED,I({},g,{error:D.t1.message,reason:"token"})),!t()){D.next=54;break}return D.abrupt("return");case 54:return l++,o(l),D.next=58,v.a.awrap(b());case 58:return D.abrupt("continue",10);case 59:if(!t()){D.next=61;break}return D.abrupt("return");case 61:return A=!0,j=window.performance.now(),D.prev=63,D.next=66,v.a.awrap(n.connect(s));case 66:window.v1ws=n.ws,D.next=84;break;case 69:if(D.prev=69,D.t2=D.catch(63),!D.t2.message.includes("Client.close")){D.next=73;break}return D.abrupt("return");case 73:if(!t()){D.next=75;break}return D.abrupt("return");case 75:return 2===u&&!1===s.polling&&(s.urlOptions.host="gp-v2.herokuapp.com",s.polling=!0,Object(x.track)(x.events.GOVAL2_FELLBACK,{error:D.t2.message||"",retries:l,host:window.location.hostname})),Object(x.track)(x.events.GOVAL_CONNECTION_STEP,I({},g,{time:window.performance.now()-j,timeSinceCreateWorkspace:B(),step:"connect",failed:!0})),Object(x.track)(x.events.GOVAL_CONNECTION_FAILED,I({},g,{error:D.t2.message,reason:"goval"})),u++,l++,o(l),D.next=83,v.a.awrap(b());case 83:return D.abrupt("continue",10);case 84:Object(x.track)(x.events.GOVAL_CONNECTION_STEP,I({},g,{time:window.performance.now()-j,timeSinceCreateWorkspace:B(),step:"connect",failed:!1})),Object(x.track)(x.events.GOVAL_CONNECTION_SUCCEEDED,I({},g,{time:window.performance.now()-w})),D.next=10;break;case 88:case"end":return D.stop()}}),null,null,[[18,26],[41,48],[63,69]])}},qzUi:function(e,n,r){"use strict";r.d(n,"b",(function(){return l})),r.d(n,"a",(function(){return A}));var t=r("ln6h"),o=r.n(t),a=r("eVuF"),i=r.n(a),c=r("doui"),s=r("g7Gn"),u=r("IUvJ");function l(){var e,n,r,t,a,s;return o.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,o.a.awrap(i.a.all([Object(u.a)(),A()]));case 2:return e=l.sent,n=Object(c.a)(e,1),r=n[0],t=r.xterm,a=r.fitAddon,s=r.searchAddon,t.fit=function(){return a.fit()},t.searchAddon=s,l.abrupt("return",t);case 11:case"end":return l.stop()}}))}function A(){return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return d(),e.abrupt("return",p().catch((function(e){s.c(e)})));case 2:case"end":return e.stop()}}))}var f="replit-icons-font";function d(){if(!document.getElementById(f)){var e=r("BQO9"),n=r("dDrW"),t=document.createElement("style");t.id=f,t.type="text/css",t.appendChild(document.createTextNode("\n@font-face {\n  font-family: 'replit-icons';\n  font-style: normal;\n  font-weight: normal;\n  font-stretch: normal;\n  src: url(".concat(e,") format('woff'),\n    url(").concat(n,") format('truetype');\n}"))),document.head.appendChild(t)}}function p(){var e,n,r,t,a;return o.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(e="normal normal 100px replit-icons",!(n=document.fonts)){o.next=6;break}if(!n.check(e)){o.next=5;break}return o.abrupt("return");case 5:return o.abrupt("return",new i.a((function(r,t){var o=!1,a=setTimeout((function(){o=!0,t(new Error("Font loading timed out"))}),3e3);n.load(e,String.fromCharCode(61095)).then((function(){o||(clearTimeout(a),n.check(e)?r():t(new Error("document.font.load resolved without loading")))})).catch((function(e){o||(clearTimeout(a),t(e))}))})));case 6:if((r=document.createElement("span")).innerText=String.fromCharCode(61095),r.style.font="normal normal 100px sans-serif",r.style.position="absolute",r.style.left="-9999px",r.style.top="-9999px",document.body.appendChild(r),t=r.offsetWidth,r.style.font=e,!(a=function(){return t!==r.offsetWidth})()){o.next=18;break}return o.abrupt("return");case 18:return o.abrupt("return",new i.a((function(e,n){var t=setInterval((function(){a()&&(clearInterval(t),clearTimeout(o),document.body.removeChild(r),e())}),50),o=setTimeout((function(){clearInterval(t),document.body.removeChild(r),a()?e():n(new Error("Font loading timed out"))}),3e3)})));case 19:case"end":return o.stop()}}))}},tidx:function(e,n,r){"use strict";r.d(n,"a",(function(){return T}));var t=r("hfKm"),o=r.n(t),a=r("2Eek"),i=r.n(a),c=r("XoMD"),s=r.n(c),u=r("Jo+v"),l=r.n(u),A=r("4mXO"),f=r.n(A),d=r("pLtp"),p=r.n(d),h=r("vYYK"),b=r("0iUn"),v=r("sLSF"),w=r("MI3g"),E=r("a7VT"),C=r("Tit0"),m=r("MX0m"),g=r.n(m),y=r("q1tI"),x=r("gF3W"),O=r("2tbh"),k=y.createElement;function N(e,n){var r=p()(e);if(f.a){var t=f()(e);n&&(t=t.filter((function(n){return l()(e,n).enumerable}))),r.push.apply(r,t)}return r}var T=function(e){function n(){var e,r;Object(b.a)(this,n);for(var t=arguments.length,a=new Array(t),c=0;c<t;c++)a[c]=arguments[c];return(r=Object(w.a)(this,(e=Object(E.a)(n)).call.apply(e,[this].concat(a)))).state={isLogin:!!r.props.showLoginFirst},r.handleChangeAuth=function(){r.setState((function(e){return{isLogin:!e.isLogin}}))},r.handleSubmit=function(e){e.error&&r.props.onFailure(e),e.user&&r.props.onSuccess(function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?N(Object(r),!0).forEach((function(n){Object(h.a)(e,n,r[n])})):s.a?i()(e,s()(r)):N(Object(r)).forEach((function(n){o()(e,n,l()(r,n))}))}return e}({},e,{isLogin:r.state.isLogin}))},r}return Object(C.a)(n,e),Object(v.a)(n,[{key:"render",value:function(){var e=this;return k("div",{className:"jsx-101910848 auth-modal"},k(x.VStack,{align:"center",spacing:2},k("div",{className:"jsx-101910848 auth-modal-title"},this.props.title||"Sign up"),k("div",{className:"jsx-101910848 auth-modal-description"},this.props.description||"Code, create, and learn together on Replit"),k(O.a,{onChangeAuth:this.handleChangeAuth,isTeacher:this.props.isTeacher,isLogin:this.state.isLogin,onSubmit:this.handleSubmit}),this.props.allowAnon&&k("div",{className:"jsx-101910848 auth-modal-anon"},k("a",{onClick:function(){return e.props.onSuccess()},className:"jsx-101910848"},"continue as Anonymous"))),k(g.a,{id:"101910848"},[".auth-modal.jsx-101910848{max-width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:var(--spacing-4) var(--spacing-2);}",".title-container.jsx-101910848{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin-bottom:var(--spacing-2);}",".auth-modal-title.jsx-101910848{-webkit-align-self:flex-start;-ms-flex-item-align:start;align-self:flex-start;color:var(--color-foreground-1);font-size:var(--font-size-desktop-heading-2);font-weight:var(--font-weight-medium);}",".auth-modal-description.jsx-101910848{text-align:center;color:var(--color-foreground-2);font-size:var(--font-size-deskptop-text-medium);}",".auth-modal-anon.jsx-101910848{margin-top:14px;font-size:14px;}",".auth-modal-anon.jsx-101910848 a.jsx-101910848{color:var(--color-primary-1);-webkit-text-decoration:none;text-decoration:none;cursor:pointer;}"]))}}]),n}(y.Component);T.defaultProps={showLoginFirst:!1,isTeacher:!1,allowAnon:!1,onSuccess:function(){},onFailure:function(){}}},yLpU:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ClientCloseReason=void 0,function(e){e.Intentional="Intentional",e.Disconnected="Disconnected",e.Error="Error"}(n.ClientCloseReason||(n.ClientCloseReason={}))},yz3v:function(e){e.exports=JSON.parse('{"name":"ace-builds","main":"./src-noconflict/ace.js","typings":"ace.d.ts","version":"1.4.11","description":"Ace (Ajax.org Cloud9 Editor)","scripts":{"test":"echo \\"Error: no test specified\\" && exit 1"},"repository":{"type":"git","url":"https://github.com/ajaxorg/ace-builds.git"},"author":"","license":"BSD-3-Clause","bugs":{"url":"https://github.com/ajaxorg/ace-builds/issues"},"homepage":"https://github.com/ajaxorg/ace-builds"}')}}]);
//# sourceMappingURL=b54b93e78073a7cc85a94616f13ef0badb430a28.ecc59963455a1a656dd2.js.map